@{
    ViewBag.Title = "Index";
}

<h2>Drag & Drop file upload </h2>
<div id="dragAndDropArea">
    Drop your files here
</div>
<h4>Uploaded files : </h4>
<ul class="list-group" id="uploadedFileList"></ul>

<style>
    #dragAndDropArea {
        background: #808080;
        border: Red dashed 1px;
        height: 200px;
		width: 800px;
        text-align: center;
        color: #fff;
    }

    .active-drop {
        background: #45f442 !important;
        border: solid 2px Green !important;
        opacity: .5;
        color: black !important;
    }
</style>

@section Scripts{
    <script type="text/javascript">
            $(function () {
                $('#dragAndDropArea').filedrop({
                    url: '/Home/UploadFiles',
                    allowedfiletypes: ['image/jpeg', 'image/png', 'image/gif'],
                    allowedfileextensions: ['.jpg', '.jpeg', '.png', '.gif'],
                    paramname: 'files',
                    maxfiles: 5,
                    maxfilesize: 5, // MB
                    dragOver: function () {
                        $('#dragAndDropArea').addClass('active-drop');
                    },
                    dragLeave: function () {
                        $('#dragAndDropArea').removeClass('active-drop');
                    },
                    drop: function () {
                        $('#dragAndDropArea').removeClass('active-drop');
                    },
                    afterAll: function (e) {
                        $('#dragAndDropArea').html('file(s) uploaded successfully');
                    },
                    uploadFinished: function (i, file, response, time) {
                        $('#uploadedFileList').append('<li class="list-group-item">'+file.name+'</li>')
                    }
                })
            })
    </script>
}